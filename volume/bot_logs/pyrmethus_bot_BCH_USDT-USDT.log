2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3418] - [1m===========================================================[0m
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3419] - [1m   Starting Trading Loop for: BCH/USDT:USDT (TF: 3)
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3420] - [1m===========================================================[0m
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3421] - Trading Enabled: True, Sandbox Mode: False
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3424] - Key Settings: Risk=1.00%, Leverage=20x, TSL=ON, BE=ON
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2127] - [36mInitializing VolumaticOB Strategy Engine...[0m
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2128] -   Volumatic Trend Params: Length=40, ATR Period=200, Volume EMA=950, ATR Multiplier=3
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2129] -   Order Block Params: Source=Wicks, PH Lookback=10/10, PL Lookback=10/10, Extend=True, Max Boxes=50
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2130] -   Calculated Minimum Data Required: 1000 candles
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2592] - Signal Generator Initialized:
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2593] -   OB Entry Proximity Factor: 1.0050
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2594] -   OB Exit Proximity Factor: 1.0010
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2595] -   Initial TP ATR Multiple: 0.7 
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2596] -   Initial SL ATR Multiple: 1.8
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3436] - [1mEntering main trading loop... Press Ctrl+C to stop gracefully.[0m
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #1 Start | Timestamp: 2025-04-22 20:42:52 CDT
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 52.9s <= 900s).
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:42:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:42:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250421112400 @ 2025-04-21 11:24 [338.3-339]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250421131800 @ 2025-04-21 13:18 [336.2-337]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250421140000 @ 2025-04-21 14:00 [335.5-336.2]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250421194200 @ 2025-04-21 19:42 [344.4-345]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250421213000 @ 2025-04-21 21:30 [341.9-342.7]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250421223000 @ 2025-04-21 22:30 [342.5-342.8]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250421230900 @ 2025-04-21 23:09 [343.6-344]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422003600 @ 2025-04-22 00:36 [337.1-338.6]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422050000 @ 2025-04-22 05:00 [343.1-343.3]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422071500 @ 2025-04-22 07:15 [336.4-337.1]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422091200 @ 2025-04-22 09:12 [345.9-346.2]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422102400 @ 2025-04-22 10:24 [344.4-344.8]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422110900 @ 2025-04-22 11:09 [345.7-346.1]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422121500 @ 2025-04-22 12:15 [345.7-346]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422133000 @ 2025-04-22 13:30 [346.3-347.2]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422142400 @ 2025-04-22 14:24 [349.4-350.1]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422151500 @ 2025-04-22 15:15 [358.7-361.5]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422160000 @ 2025-04-22 16:00 [361.2-362.2]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422172100 @ 2025-04-22 17:21 [354.1-354.8]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422193900 @ 2025-04-22 19:39 [353.9-355.1]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2453] -   + New Bullish OB created: L_250422210000 @ 2025-04-22 21:00 [354-354.1]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422214800 @ 2025-04-22 21:48 [358.7-364.6]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422233000 @ 2025-04-22 23:30 [363.7-364.3]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250423000300 @ 2025-04-23 00:03 [362.4-363.4]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250423010900 @ 2025-04-23 01:09 [360.9-363.1]
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 41 new Order Blocks.
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.9 > 339.6
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.9 > 345.6
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.9 > 345.8
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.9 > 346.2
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.9 > 344.6
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.9 > 348.2
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.9 > 345.5
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.9 > 346.1
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.9 > 346.0
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.9 > 347.6
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.9 > 350.4
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.9 > 349.6
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.9 > 348.2
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.9 > 353.4
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.9 > 358.0
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.9 > 358.4
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.9
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.928757372202833, Vol Norm: 0
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:42:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.9, ATR=0.928757372202833
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.9
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:42:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1055] - Position entry size 0 <= threshold 0.001. Ignoring.
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1113] - No active position found for BCH/USDT:USDT (checked 1 entries).
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.9) for checks.
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.9
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: None
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2711] - [91m[1mSELL Signal Triggered:[0m
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2712] -   Trend is DOWN.
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2713] -   Price 359.9 is within Bearish OB B_250423010900 (ID: B_250423010900)
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2714] -   OB Range: [360.9 - 363.1]
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2715] -   Entry Zone (with prox factor): [359.1044776119402985074626866 - 363.1]
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mSELL[0m
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'SELL'...
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2967] - [1m*** Signal: SELL | Current Position: None | Initiating Entry Sequence... ***[0m
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2970] - Fetching balance for sizing...
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:872] - Fetching balance for USDT (Account Type: UNIFIED, Attempt 1/4)...
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:879] - Found balance in standard structure for UNIFIED: 3.1142398
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2977] - Calculating initial TP/SL based on last close (359.9) and ATR (0.928757372202833)...
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2768] - Calculating TP/SL for SELL at 359.9 with ATR 0.928757372202833:
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2769] -   TP Mult: 0.7, Offset: 0.6501301605419831
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2770] -   SL Mult: 1.8, Offset: 1.6717632699650994
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2779] -   Raw Levels: TP=359.2498698394580169, SL=361.5717632699650994
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2827] - Calculated Initial Protection Levels:
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2828] -   Take Profit: 359.2
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2829] -   Stop Loss: 361.6
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2990] - Setting leverage to 20x for BCH/USDT:USDT...
2025-04-22 20:42:54 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1175] - Attempting to set leverage for BCH/USDT:USDT to 20x (Attempt 1/4)...
2025-04-22 20:42:54 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1190] - Using Bybit V5 params for setLeverage: {'category': 'linear', 'symbol': 'BCHUSDT', 'buyLeverage': '20', 'sellLeverage': '20'}
2025-04-22 20:42:55 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1218] - [91mExchange error setting leverage: bybit {"retCode":110043,"retMsg":"leverage not modified","result":{},"retExtInfo":{},"time":1745372575977} (Code: None)[0m
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1221] - [33mLeverage already set correctly (inferred from error).[0m
2025-04-22 20:42:55 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2999] - Calculating position size...
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1335] - Calculating Position Size for BCH/USDT:USDT:
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1336] -   Balance: 3.1142398 USDT, Risk: 1.00%, Max Risk Amount: 0.031142398 USDT
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1337] -   Entry: 359.9, SL: 361.6, SL Price Distance: 1.7
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1338] -   Contract Type: Linear, Contract Size: 1
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1339] -   Amount Precision: 0.01, Min/Max Amount: 0.01/5300.0, Min/Max Cost: 0/Infinity
2025-04-22 20:42:55 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1353] -   Linear/Spot Risk Calc: Size = 0.031142398 / (1.7 * 1.0) = 0.01831905764705882352941176471
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1378] -   Initial Calculated Size = 0.01831905764705882352941176471 Contracts
2025-04-22 20:42:55 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1399] -   Estimated Cost for size 0.01831905764705882352941176471: 6.593028847176470588235294119 USDT
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1466] - Applied amount precision (CCXT): 0.01831905764705882352941176471 -> 0.01
2025-04-22 20:42:55 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1498] -   Final Cost for size 0.01: 3.599 USDT
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1532] - [92m[1mFinal Calculated Position Size: 0.01 Contracts[0m
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3014] - [1m===> Placing SELL Market Order | Size: 0.01 <===[0m
2025-04-22 20:42:55 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1594] - Using Bybit V5 params for order: {'category': 'linear', 'positionIdx': 0}
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1604] - Attempting to place Open/Increase SELL market order:
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1605] -   Symbol: BCH/USDT:USDT (BCHUSDT)
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1606] -   Size: 0.01 USDT
2025-04-22 20:42:55 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1607] -   Full Order Params: {'category': 'linear', 'positionIdx': 0}
2025-04-22 20:42:55 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1612] - Executing exchange.create_order (Attempt 1/4)...
2025-04-22 20:42:55 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1614] - Create order raw response: {'info': {'orderId': '544b14b0-e616-423a-8f63-71080fce55d2', 'orderLinkId': ''}, 'id': '544b14b0-e616-423a-8f63-71080fce55d2', 'clientOrderId': None, 'timestamp': None, 'datetime': None, 'lastTradeTimestamp': None, 'lastUpdateTimestamp': None, 'symbol': 'BCH/USDT:USDT', 'type': None, 'timeInForce': None, 'postOnly': None, 'reduceOnly': None, 'side': None, 'price': None, 'triggerPrice': None, 'takeProfitPrice': None, 'stopLossPrice': None, 'amount': None, 'cost': None, 'average': None, 'filled': None, 'remaining': None, 'status': None, 'fee': None, 'trades': [], 'fees': [], 'stopPrice': None}
2025-04-22 20:42:55 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1666] - [91mUnexpected error placing order: [<class 'decimal.ConversionSyntax'>][0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1622, in place_trade
    avg_price_log = f", AvgPrice: ~{Decimal(avg_price_str).normalize()}" if avg_price_str else ""
                                    ^^^^^^^^^^^^^^^^^^^^^^
decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]
2025-04-22 20:42:55 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3092] - [91m=== ENTRY SEQUENCE FAILED (BCH/USDT:USDT SELL) - Order placement failed. No position opened. ===
2025-04-22 20:42:55 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 3.70s) ===---[0m

2025-04-22 20:42:55 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #1 End | Duration: 3.70s | Sleeping for: 6.30s...
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #2 Start | Timestamp: 2025-04-22 20:43:02 CDT
2025-04-22 20:43:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:43:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:43:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 62.5s <= 900s).
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:43:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 16 new Order Blocks.
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.8 > 339.6
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.8 > 345.6
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.8 > 345.8
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.8 > 346.2
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.8 > 344.6
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.8 > 348.2
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.8 > 345.5
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.8 > 346.1
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.8 > 346.0
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.8 > 347.6
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.8 > 350.4
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.8 > 349.6
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.8 > 348.2
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.8 > 353.4
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.8 > 358.0
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.8 > 358.4
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.8
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.928757372202833, Vol Norm: 0
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.8, ATR=0.928757372202833
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:43:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.8
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1051] - Found potentially active position entry: Size=0.01, Threshold=0.001
2025-04-22 20:43:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1109] - [92mActive SHORT Position Found (BCH/USDT:USDT): Size=0.01, Entry=359.8, SL=None, TP=None, TSL=N/A[0m
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.8) for checks.
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.8
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: short
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2720] - Signal Result: HOLD - No valid entry or exit condition met.
2025-04-22 20:43:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mHOLD[0m
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'HOLD'...
2025-04-22 20:43:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3102] - Signal: HOLD | Current Position: SHORT (Size: 0.01)
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3143] - Signal (HOLD) allows holding short position. Performing position management checks...
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3164] -   Current Protection State: TSL Active=False, SL=None, TP=None
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3170] - Checking Break-Even condition...
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3171] -   Entry=359.8, Current Price=359.8, ATR=0.928757372202833
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3184] -   Profit: 0, Profit in ATRs: 0.000
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3185] -   BE Trigger ATR Multiple: 1
2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3236] - Break-Even profit target not yet reached.
2025-04-22 20:43:03 - WARNING - [pyrmethus_bot_BCH_USDT-USDT:3249] - [33mTrailing Stop is enabled in config but not detected as active on the exchange. Attempting TSL setup/recovery...[0m
2025-04-22 20:43:03 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:2744] - Invalid signal 'SHORT' for TP/SL calculation.
2025-04-22 20:43:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2030] - Calculated Trailing Stop for BCH/USDT:USDT (SHORT):
2025-04-22 20:43:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2031] -   Entry Price: 359.8
2025-04-22 20:43:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2032] -   Activation %: 0.300%, Callback Rate: 0.500%
2025-04-22 20:43:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2033] -   => Calculated Activation Price: 358.7
2025-04-22 20:43:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2034] -   => Calculated Trail Distance: 1.8
2025-04-22 20:43:03 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1835] - Error during protection parameter formatting: 'bybit' object has no attribute 'ROUND'
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1774, in _set_position_protection
    fmt_tsl_distance = format_price_param(min_tsl_distance, "Trailing Stop Distance")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1746, in format_price_param
    formatted_price = exchange.price_to_precision(symbol, float(price_decimal), exchange.ROUND)
                                                                                ^^^^^^^^^^^^^^
AttributeError: 'bybit' object has no attribute 'ROUND'
2025-04-22 20:43:03 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3264] - [91mTrailing Stop Loss setup/recovery failed.[0m
2025-04-22 20:43:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 1.86s) ===---[0m

2025-04-22 20:43:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #2 End | Duration: 1.86s | Sleeping for: 8.14s...
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #3 Start | Timestamp: 2025-04-22 20:43:12 CDT
2025-04-22 20:43:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:43:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:43:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 72.5s <= 900s).
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:43:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 16 new Order Blocks.
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.8 > 339.6
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.8 > 345.6
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.8 > 345.8
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.8 > 346.2
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.8 > 344.6
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.8 > 348.2
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.8 > 345.5
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.8 > 346.1
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.8 > 346.0
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.8 > 347.6
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.8 > 350.4
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.8 > 349.6
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.8 > 348.2
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.8 > 353.4
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.8 > 358.0
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.8 > 358.4
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.8
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.928757372202833, Vol Norm: 0
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.8, ATR=0.928757372202833
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:43:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.8
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1051] - Found potentially active position entry: Size=0.01, Threshold=0.001
2025-04-22 20:43:13 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1109] - [92mActive SHORT Position Found (BCH/USDT:USDT): Size=0.01, Entry=359.8, SL=None, TP=None, TSL=N/A[0m
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.8) for checks.
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.8
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: short
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2720] - Signal Result: HOLD - No valid entry or exit condition met.
2025-04-22 20:43:13 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mHOLD[0m
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'HOLD'...
2025-04-22 20:43:13 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3102] - Signal: HOLD | Current Position: SHORT (Size: 0.01)
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3143] - Signal (HOLD) allows holding short position. Performing position management checks...
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3164] -   Current Protection State: TSL Active=False, SL=None, TP=None
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3170] - Checking Break-Even condition...
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3171] -   Entry=359.8, Current Price=359.8, ATR=0.928757372202833
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3184] -   Profit: 0, Profit in ATRs: 0.000
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3185] -   BE Trigger ATR Multiple: 1
2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3236] - Break-Even profit target not yet reached.
2025-04-22 20:43:13 - WARNING - [pyrmethus_bot_BCH_USDT-USDT:3249] - [33mTrailing Stop is enabled in config but not detected as active on the exchange. Attempting TSL setup/recovery...[0m
2025-04-22 20:43:13 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:2744] - Invalid signal 'SHORT' for TP/SL calculation.
2025-04-22 20:43:13 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2030] - Calculated Trailing Stop for BCH/USDT:USDT (SHORT):
2025-04-22 20:43:13 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2031] -   Entry Price: 359.8
2025-04-22 20:43:13 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2032] -   Activation %: 0.300%, Callback Rate: 0.500%
2025-04-22 20:43:13 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2033] -   => Calculated Activation Price: 358.7
2025-04-22 20:43:13 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2034] -   => Calculated Trail Distance: 1.8
2025-04-22 20:43:13 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1835] - Error during protection parameter formatting: 'bybit' object has no attribute 'ROUND'
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1774, in _set_position_protection
    fmt_tsl_distance = format_price_param(min_tsl_distance, "Trailing Stop Distance")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1746, in format_price_param
    formatted_price = exchange.price_to_precision(symbol, float(price_decimal), exchange.ROUND)
                                                                                ^^^^^^^^^^^^^^
AttributeError: 'bybit' object has no attribute 'ROUND'
2025-04-22 20:43:13 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3264] - [91mTrailing Stop Loss setup/recovery failed.[0m
2025-04-22 20:43:13 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 1.49s) ===---[0m

2025-04-22 20:43:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #3 End | Duration: 1.50s | Sleeping for: 8.50s...
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #4 Start | Timestamp: 2025-04-22 20:43:22 CDT
2025-04-22 20:43:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:43:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:43:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 82.5s <= 900s).
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:43:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 16 new Order Blocks.
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.7 > 339.6
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.7 > 345.6
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.7 > 345.8
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.7 > 346.2
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.7 > 344.6
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.7 > 348.2
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.7 > 345.5
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.7 > 346.1
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.7 > 346.0
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.7 > 347.6
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.7 > 350.4
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.7 > 349.6
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.7 > 348.2
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.7 > 353.4
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.7 > 358.0
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.7 > 358.4
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.7
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.928757372202833, Vol Norm: 0
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.7, ATR=0.928757372202833
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:43:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.7
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1051] - Found potentially active position entry: Size=0.01, Threshold=0.001
2025-04-22 20:43:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1109] - [92mActive SHORT Position Found (BCH/USDT:USDT): Size=0.01, Entry=359.8, SL=None, TP=None, TSL=N/A[0m
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.7) for checks.
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.7
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: short
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2720] - Signal Result: HOLD - No valid entry or exit condition met.
2025-04-22 20:43:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mHOLD[0m
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'HOLD'...
2025-04-22 20:43:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3102] - Signal: HOLD | Current Position: SHORT (Size: 0.01)
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3143] - Signal (HOLD) allows holding short position. Performing position management checks...
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3164] -   Current Protection State: TSL Active=False, SL=None, TP=None
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3170] - Checking Break-Even condition...
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3171] -   Entry=359.8, Current Price=359.7, ATR=0.928757372202833
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3184] -   Profit: 0.1, Profit in ATRs: 0.108
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3185] -   BE Trigger ATR Multiple: 1
2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3236] - Break-Even profit target not yet reached.
2025-04-22 20:43:23 - WARNING - [pyrmethus_bot_BCH_USDT-USDT:3249] - [33mTrailing Stop is enabled in config but not detected as active on the exchange. Attempting TSL setup/recovery...[0m
2025-04-22 20:43:23 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:2744] - Invalid signal 'SHORT' for TP/SL calculation.
2025-04-22 20:43:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2030] - Calculated Trailing Stop for BCH/USDT:USDT (SHORT):
2025-04-22 20:43:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2031] -   Entry Price: 359.8
2025-04-22 20:43:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2032] -   Activation %: 0.300%, Callback Rate: 0.500%
2025-04-22 20:43:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2033] -   => Calculated Activation Price: 358.7
2025-04-22 20:43:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2034] -   => Calculated Trail Distance: 1.8
2025-04-22 20:43:23 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1835] - Error during protection parameter formatting: 'bybit' object has no attribute 'ROUND'
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1774, in _set_position_protection
    fmt_tsl_distance = format_price_param(min_tsl_distance, "Trailing Stop Distance")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1746, in format_price_param
    formatted_price = exchange.price_to_precision(symbol, float(price_decimal), exchange.ROUND)
                                                                                ^^^^^^^^^^^^^^
AttributeError: 'bybit' object has no attribute 'ROUND'
2025-04-22 20:43:23 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3264] - [91mTrailing Stop Loss setup/recovery failed.[0m
2025-04-22 20:43:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 1.79s) ===---[0m

2025-04-22 20:43:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #4 End | Duration: 1.79s | Sleeping for: 8.21s...
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #5 Start | Timestamp: 2025-04-22 20:43:32 CDT
2025-04-22 20:43:32 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:43:32 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:43:32 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 92.5s <= 900s).
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:43:32 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 16 new Order Blocks.
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.7 > 339.6
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.7 > 345.6
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.7 > 345.8
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.7 > 346.2
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.7 > 344.6
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.7 > 348.2
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.7 > 345.5
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.7 > 346.1
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.7 > 346.0
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.7 > 347.6
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.7 > 350.4
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.7 > 349.6
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.7 > 348.2
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.7 > 353.4
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.7 > 358.0
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.7 > 358.4
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.7
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.928757372202833, Vol Norm: 0
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:32 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.7, ATR=0.928757372202833
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:43:32 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:43:33 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.6
2025-04-22 20:43:33 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:43:33 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1051] - Found potentially active position entry: Size=0.01, Threshold=0.001
2025-04-22 20:43:34 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1109] - [92mActive SHORT Position Found (BCH/USDT:USDT): Size=0.01, Entry=359.8, SL=None, TP=None, TSL=N/A[0m
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.6) for checks.
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.7
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: short
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2720] - Signal Result: HOLD - No valid entry or exit condition met.
2025-04-22 20:43:34 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mHOLD[0m
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'HOLD'...
2025-04-22 20:43:34 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3102] - Signal: HOLD | Current Position: SHORT (Size: 0.01)
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3143] - Signal (HOLD) allows holding short position. Performing position management checks...
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3164] -   Current Protection State: TSL Active=False, SL=None, TP=None
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3170] - Checking Break-Even condition...
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3171] -   Entry=359.8, Current Price=359.6, ATR=0.928757372202833
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3184] -   Profit: 0.2, Profit in ATRs: 0.215
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3185] -   BE Trigger ATR Multiple: 1
2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3236] - Break-Even profit target not yet reached.
2025-04-22 20:43:34 - WARNING - [pyrmethus_bot_BCH_USDT-USDT:3249] - [33mTrailing Stop is enabled in config but not detected as active on the exchange. Attempting TSL setup/recovery...[0m
2025-04-22 20:43:34 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:2744] - Invalid signal 'SHORT' for TP/SL calculation.
2025-04-22 20:43:34 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2030] - Calculated Trailing Stop for BCH/USDT:USDT (SHORT):
2025-04-22 20:43:34 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2031] -   Entry Price: 359.8
2025-04-22 20:43:34 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2032] -   Activation %: 0.300%, Callback Rate: 0.500%
2025-04-22 20:43:34 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2033] -   => Calculated Activation Price: 358.7
2025-04-22 20:43:34 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2034] -   => Calculated Trail Distance: 1.8
2025-04-22 20:43:34 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1835] - Error during protection parameter formatting: 'bybit' object has no attribute 'ROUND'
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1774, in _set_position_protection
    fmt_tsl_distance = format_price_param(min_tsl_distance, "Trailing Stop Distance")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1746, in format_price_param
    formatted_price = exchange.price_to_precision(symbol, float(price_decimal), exchange.ROUND)
                                                                                ^^^^^^^^^^^^^^
AttributeError: 'bybit' object has no attribute 'ROUND'
2025-04-22 20:43:34 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3264] - [91mTrailing Stop Loss setup/recovery failed.[0m
2025-04-22 20:43:34 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 2.13s) ===---[0m

2025-04-22 20:43:34 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #5 End | Duration: 2.14s | Sleeping for: 7.86s...
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #6 Start | Timestamp: 2025-04-22 20:43:42 CDT
2025-04-22 20:43:42 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:43:42 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:43:42 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 102.5s <= 900s).
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:43:42 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 16 new Order Blocks.
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.6 > 339.6
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.6 > 345.6
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.6 > 345.8
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.6 > 346.2
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.6 > 344.6
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.6 > 348.2
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.6 > 345.5
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.6 > 346.1
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.6 > 346.0
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.6 > 347.6
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.6 > 350.4
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.6 > 349.6
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.6 > 348.2
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.6 > 353.4
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.6 > 358.0
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.6 > 358.4
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.6
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.9297641046309172, Vol Norm: 0
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:42 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.6, ATR=0.9297641046309172
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:43:42 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.6
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1051] - Found potentially active position entry: Size=0.01, Threshold=0.001
2025-04-22 20:43:43 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1109] - [92mActive SHORT Position Found (BCH/USDT:USDT): Size=0.01, Entry=359.8, SL=None, TP=None, TSL=N/A[0m
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.6) for checks.
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.6
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: short
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2720] - Signal Result: HOLD - No valid entry or exit condition met.
2025-04-22 20:43:43 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mHOLD[0m
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'HOLD'...
2025-04-22 20:43:43 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3102] - Signal: HOLD | Current Position: SHORT (Size: 0.01)
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3143] - Signal (HOLD) allows holding short position. Performing position management checks...
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3164] -   Current Protection State: TSL Active=False, SL=None, TP=None
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3170] - Checking Break-Even condition...
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3171] -   Entry=359.8, Current Price=359.6, ATR=0.9297641046309172
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3184] -   Profit: 0.2, Profit in ATRs: 0.215
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3185] -   BE Trigger ATR Multiple: 1
2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3236] - Break-Even profit target not yet reached.
2025-04-22 20:43:43 - WARNING - [pyrmethus_bot_BCH_USDT-USDT:3249] - [33mTrailing Stop is enabled in config but not detected as active on the exchange. Attempting TSL setup/recovery...[0m
2025-04-22 20:43:43 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:2744] - Invalid signal 'SHORT' for TP/SL calculation.
2025-04-22 20:43:43 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2030] - Calculated Trailing Stop for BCH/USDT:USDT (SHORT):
2025-04-22 20:43:43 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2031] -   Entry Price: 359.8
2025-04-22 20:43:43 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2032] -   Activation %: 0.300%, Callback Rate: 0.500%
2025-04-22 20:43:43 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2033] -   => Calculated Activation Price: 358.7
2025-04-22 20:43:43 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2034] -   => Calculated Trail Distance: 1.8
2025-04-22 20:43:43 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1835] - Error during protection parameter formatting: 'bybit' object has no attribute 'ROUND'
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1774, in _set_position_protection
    fmt_tsl_distance = format_price_param(min_tsl_distance, "Trailing Stop Distance")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1746, in format_price_param
    formatted_price = exchange.price_to_precision(symbol, float(price_decimal), exchange.ROUND)
                                                                                ^^^^^^^^^^^^^^
AttributeError: 'bybit' object has no attribute 'ROUND'
2025-04-22 20:43:43 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3264] - [91mTrailing Stop Loss setup/recovery failed.[0m
2025-04-22 20:43:43 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 1.84s) ===---[0m

2025-04-22 20:43:43 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #6 End | Duration: 1.85s | Sleeping for: 8.15s...
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #7 Start | Timestamp: 2025-04-22 20:43:52 CDT
2025-04-22 20:43:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:43:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:43:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 112.7s <= 900s).
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:43:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 16 new Order Blocks.
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.5 > 339.6
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.5 > 345.6
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.5 > 345.8
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.5 > 346.2
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.5 > 344.6
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.5 > 348.2
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.5 > 345.5
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.5 > 346.1
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.5 > 346.0
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.5 > 347.6
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.5 > 350.4
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.5 > 349.6
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.5 > 348.2
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.5 > 353.4
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.5 > 358.0
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.5 > 358.4
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.5
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.9297641046309172, Vol Norm: 0
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:52 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.5, ATR=0.9297641046309172
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:43:52 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.5
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1051] - Found potentially active position entry: Size=0.01, Threshold=0.001
2025-04-22 20:43:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1109] - [92mActive SHORT Position Found (BCH/USDT:USDT): Size=0.01, Entry=359.8, SL=None, TP=None, TSL=N/A[0m
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.5) for checks.
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.5
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: short
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2720] - Signal Result: HOLD - No valid entry or exit condition met.
2025-04-22 20:43:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mHOLD[0m
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'HOLD'...
2025-04-22 20:43:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3102] - Signal: HOLD | Current Position: SHORT (Size: 0.01)
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3143] - Signal (HOLD) allows holding short position. Performing position management checks...
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3164] -   Current Protection State: TSL Active=False, SL=None, TP=None
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3170] - Checking Break-Even condition...
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3171] -   Entry=359.8, Current Price=359.5, ATR=0.9297641046309172
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3184] -   Profit: 0.3, Profit in ATRs: 0.323
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3185] -   BE Trigger ATR Multiple: 1
2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3236] - Break-Even profit target not yet reached.
2025-04-22 20:43:53 - WARNING - [pyrmethus_bot_BCH_USDT-USDT:3249] - [33mTrailing Stop is enabled in config but not detected as active on the exchange. Attempting TSL setup/recovery...[0m
2025-04-22 20:43:53 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:2744] - Invalid signal 'SHORT' for TP/SL calculation.
2025-04-22 20:43:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2030] - Calculated Trailing Stop for BCH/USDT:USDT (SHORT):
2025-04-22 20:43:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2031] -   Entry Price: 359.8
2025-04-22 20:43:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2032] -   Activation %: 0.300%, Callback Rate: 0.500%
2025-04-22 20:43:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2033] -   => Calculated Activation Price: 358.7
2025-04-22 20:43:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2034] -   => Calculated Trail Distance: 1.8
2025-04-22 20:43:53 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1835] - Error during protection parameter formatting: 'bybit' object has no attribute 'ROUND'
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1774, in _set_position_protection
    fmt_tsl_distance = format_price_param(min_tsl_distance, "Trailing Stop Distance")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1746, in format_price_param
    formatted_price = exchange.price_to_precision(symbol, float(price_decimal), exchange.ROUND)
                                                                                ^^^^^^^^^^^^^^
AttributeError: 'bybit' object has no attribute 'ROUND'
2025-04-22 20:43:53 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3264] - [91mTrailing Stop Loss setup/recovery failed.[0m
2025-04-22 20:43:53 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 1.62s) ===---[0m

2025-04-22 20:43:53 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #7 End | Duration: 1.62s | Sleeping for: 8.38s...
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #8 Start | Timestamp: 2025-04-22 20:44:02 CDT
2025-04-22 20:44:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:44:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:44:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 122.5s <= 900s).
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:44:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 16 new Order Blocks.
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.7 > 339.6
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.7 > 345.6
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.7 > 345.8
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.7 > 346.2
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.7 > 344.6
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.7 > 348.2
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.7 > 345.5
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.7 > 346.1
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.7 > 346.0
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.7 > 347.6
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.7 > 350.4
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.7 > 349.6
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.7 > 348.2
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.7 > 353.4
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.7 > 358.0
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.7 > 358.4
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.7
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.9297641046309172, Vol Norm: 0
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:44:02 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.7, ATR=0.9297641046309172
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:44:02 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.8
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1051] - Found potentially active position entry: Size=0.01, Threshold=0.001
2025-04-22 20:44:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1109] - [92mActive SHORT Position Found (BCH/USDT:USDT): Size=0.01, Entry=359.8, SL=None, TP=None, TSL=N/A[0m
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.8) for checks.
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.7
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: short
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2720] - Signal Result: HOLD - No valid entry or exit condition met.
2025-04-22 20:44:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mHOLD[0m
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'HOLD'...
2025-04-22 20:44:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3102] - Signal: HOLD | Current Position: SHORT (Size: 0.01)
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3143] - Signal (HOLD) allows holding short position. Performing position management checks...
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3164] -   Current Protection State: TSL Active=False, SL=None, TP=None
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3170] - Checking Break-Even condition...
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3171] -   Entry=359.8, Current Price=359.8, ATR=0.9297641046309172
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3184] -   Profit: 0, Profit in ATRs: 0.000
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3185] -   BE Trigger ATR Multiple: 1
2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3236] - Break-Even profit target not yet reached.
2025-04-22 20:44:03 - WARNING - [pyrmethus_bot_BCH_USDT-USDT:3249] - [33mTrailing Stop is enabled in config but not detected as active on the exchange. Attempting TSL setup/recovery...[0m
2025-04-22 20:44:03 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:2744] - Invalid signal 'SHORT' for TP/SL calculation.
2025-04-22 20:44:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2030] - Calculated Trailing Stop for BCH/USDT:USDT (SHORT):
2025-04-22 20:44:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2031] -   Entry Price: 359.8
2025-04-22 20:44:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2032] -   Activation %: 0.300%, Callback Rate: 0.500%
2025-04-22 20:44:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2033] -   => Calculated Activation Price: 358.7
2025-04-22 20:44:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2034] -   => Calculated Trail Distance: 1.8
2025-04-22 20:44:03 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1835] - Error during protection parameter formatting: 'bybit' object has no attribute 'ROUND'
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1774, in _set_position_protection
    fmt_tsl_distance = format_price_param(min_tsl_distance, "Trailing Stop Distance")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1746, in format_price_param
    formatted_price = exchange.price_to_precision(symbol, float(price_decimal), exchange.ROUND)
                                                                                ^^^^^^^^^^^^^^
AttributeError: 'bybit' object has no attribute 'ROUND'
2025-04-22 20:44:03 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3264] - [91mTrailing Stop Loss setup/recovery failed.[0m
2025-04-22 20:44:03 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 1.86s) ===---[0m

2025-04-22 20:44:03 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #8 End | Duration: 1.86s | Sleeping for: 8.14s...
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #9 Start | Timestamp: 2025-04-22 20:44:12 CDT
2025-04-22 20:44:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:44:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:44:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 132.7s <= 900s).
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:44:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 16 new Order Blocks.
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.9 > 339.6
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.9 > 345.6
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.9 > 345.8
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.9 > 346.2
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.9 > 344.6
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.9 > 348.2
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.9 > 345.5
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.9 > 346.1
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.9 > 346.0
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.9 > 347.6
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.9 > 350.4
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.9 > 349.6
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.9 > 348.2
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.9 > 353.4
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.9 > 358.0
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.9 > 358.4
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.9
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.9297641046309172, Vol Norm: 1
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:44:12 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.9, ATR=0.9297641046309172
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:44:12 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:44:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.9
2025-04-22 20:44:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:44:13 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1051] - Found potentially active position entry: Size=0.01, Threshold=0.001
2025-04-22 20:44:14 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1109] - [92mActive SHORT Position Found (BCH/USDT:USDT): Size=0.01, Entry=359.8, SL=None, TP=None, TSL=N/A[0m
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.9) for checks.
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.9
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: short
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2720] - Signal Result: HOLD - No valid entry or exit condition met.
2025-04-22 20:44:14 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mHOLD[0m
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'HOLD'...
2025-04-22 20:44:14 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3102] - Signal: HOLD | Current Position: SHORT (Size: 0.01)
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3143] - Signal (HOLD) allows holding short position. Performing position management checks...
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3164] -   Current Protection State: TSL Active=False, SL=None, TP=None
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3170] - Checking Break-Even condition...
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3171] -   Entry=359.8, Current Price=359.9, ATR=0.9297641046309172
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3184] -   Profit: -0.1, Profit in ATRs: -0.108
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3185] -   BE Trigger ATR Multiple: 1
2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3236] - Break-Even profit target not yet reached.
2025-04-22 20:44:14 - WARNING - [pyrmethus_bot_BCH_USDT-USDT:3249] - [33mTrailing Stop is enabled in config but not detected as active on the exchange. Attempting TSL setup/recovery...[0m
2025-04-22 20:44:14 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:2744] - Invalid signal 'SHORT' for TP/SL calculation.
2025-04-22 20:44:14 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2030] - Calculated Trailing Stop for BCH/USDT:USDT (SHORT):
2025-04-22 20:44:14 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2031] -   Entry Price: 359.8
2025-04-22 20:44:14 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2032] -   Activation %: 0.300%, Callback Rate: 0.500%
2025-04-22 20:44:14 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2033] -   => Calculated Activation Price: 358.7
2025-04-22 20:44:14 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2034] -   => Calculated Trail Distance: 1.8
2025-04-22 20:44:14 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1835] - Error during protection parameter formatting: 'bybit' object has no attribute 'ROUND'
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1774, in _set_position_protection
    fmt_tsl_distance = format_price_param(min_tsl_distance, "Trailing Stop Distance")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1746, in format_price_param
    formatted_price = exchange.price_to_precision(symbol, float(price_decimal), exchange.ROUND)
                                                                                ^^^^^^^^^^^^^^
AttributeError: 'bybit' object has no attribute 'ROUND'
2025-04-22 20:44:14 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3264] - [91mTrailing Stop Loss setup/recovery failed.[0m
2025-04-22 20:44:14 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 1.95s) ===---[0m

2025-04-22 20:44:14 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #9 End | Duration: 1.95s | Sleeping for: 8.05s...
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3442] - >>> Loop #10 Start | Timestamp: 2025-04-22 20:44:22 CDT
2025-04-22 20:44:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2859] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 20:44:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2876] - Data Requirements: Strategy Min=1000, Config Pref=750
2025-04-22 20:44:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2877] - Fetching 1000 klines for BCH/USDT:USDT (3m)...
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:621] - Fetching klines for BCH/USDT:USDT (3m), limit=1000 (Attempt 1/4)
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:630] - Using category 'linear' for Bybit kline fetch.
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:638] - Received 1000 candles (requested 1000).
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:657] - Last kline timestamp 2025-04-23 01:42:00+00:00 is recent (Lag: 142.5s <= 900s).
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:699] - Processing fetched kline data into DataFrame...
2025-04-22 20:44:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:741] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT (3m)
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2900] - Running strategy analysis on fetched data...
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2257] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2275] - Successfully converted relevant columns to float for TA calculations.
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2282] - Calculating indicators: ATR, EMAs, Trend, Bands, Volume Normalization...
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2329] - Detecting Pivot Highs and Lows...
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2334] - Using candle Highs/Lows for pivot detection.
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2350] - Copying calculated indicators back to Decimal DataFrame...
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2376] - Dropped 215 rows from final DataFrame due to missing required indicator values.
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2381] - Indicators calculated and DataFrame cleaned. Processing Order Blocks...
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421133300 @ 2025-04-21 13:33 [337-339.6]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421143900 @ 2025-04-21 14:39 [343.8-345.6]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421152100 @ 2025-04-21 15:21 [345.3-345.8]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421160300 @ 2025-04-21 16:03 [345.6-346.2]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421173600 @ 2025-04-21 17:36 [343.9-344.6]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250421192400 @ 2025-04-21 19:24 [347.6-348.2]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422000300 @ 2025-04-22 00:03 [345.2-345.5]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422012100 @ 2025-04-22 01:21 [344.6-346.1]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422040300 @ 2025-04-22 04:03 [345.8-346]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422060000 @ 2025-04-22 06:00 [345.7-347.6]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422075400 @ 2025-04-22 07:54 [345-350.4]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422084500 @ 2025-04-22 08:45 [348.5-349.6]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422111200 @ 2025-04-22 11:12 [346.5-348.2]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422134800 @ 2025-04-22 13:48 [351.3-353.4]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422180600 @ 2025-04-22 18:06 [357.6-358]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2425] -   + New Bearish OB created: B_250422185400 @ 2025-04-22 18:54 [358.1-358.4]
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2461] - Identified 16 new Order Blocks.
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421133300 VIOLATED by close 359.9 > 339.6
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421143900 VIOLATED by close 359.9 > 345.6
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421152100 VIOLATED by close 359.9 > 345.8
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421160300 VIOLATED by close 359.9 > 346.2
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421173600 VIOLATED by close 359.9 > 344.6
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250421192400 VIOLATED by close 359.9 > 348.2
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422000300 VIOLATED by close 359.9 > 345.5
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422012100 VIOLATED by close 359.9 > 346.1
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422040300 VIOLATED by close 359.9 > 346.0
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422060000 VIOLATED by close 359.9 > 347.6
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422075400 VIOLATED by close 359.9 > 350.4
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422084500 VIOLATED by close 359.9 > 349.6
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422111200 VIOLATED by close 359.9 > 348.2
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422134800 VIOLATED by close 359.9 > 353.4
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422180600 VIOLATED by close 359.9 > 358.0
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2490] -   - Bearish OB B_250422185400 VIOLATED by close 359.9 > 358.4
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2509] - Pruned Order Blocks. Kept Active: Bullish=19, Bearish=6 (Max per type: 50).
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2548] - Strategy Analysis Complete (2025-04-23 01:42:00 UTC):
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2549] -   Last Close: 359.9
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2550] -   Trend: [91mDOWN[0m, Trend Changed: False
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2551] -   ATR: 0.9297641046309172, Vol Norm: 1
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2552] -   Bands (L/U): 358.2509442880732 / 363.84560978260987
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2553] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:44:22 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2918] - Strategy Analysis Results: Trend=False, Last Close=359.9, ATR=0.9297641046309172
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2921] - Fetching current market price and position status...
2025-04-22 20:44:22 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:526] - Fetching ticker for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:563] - Current price for BCH/USDT:USDT: 359.9
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:996] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1008] - Fetching specific position using params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1036] - Using position size threshold: 0.001
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:1051] - Found potentially active position entry: Size=0.01, Threshold=0.001
2025-04-22 20:44:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:1109] - [92mActive SHORT Position Found (BCH/USDT:USDT): Size=0.01, Entry=359.8, SL=None, TP=None, TSL=N/A[0m
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2933] - Using live market price (359.9) for checks.
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2937] - Generating trading signal based on analysis and position...
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2638] - Generating Signal:
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2639] -   Last Close: 359.9
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2640] -   Trend Up: False, Trend Changed: False
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2641] -   Active OBs (Bull/Bear): 19 / 6
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2642] -   Current Position: short
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2720] - Signal Result: HOLD - No valid entry or exit condition met.
2025-04-22 20:44:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2940] - Generated Signal: [1mHOLD[0m
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:2963] - Trading is ENABLED. Processing signal 'HOLD'...
2025-04-22 20:44:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3102] - Signal: HOLD | Current Position: SHORT (Size: 0.01)
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3143] - Signal (HOLD) allows holding short position. Performing position management checks...
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3164] -   Current Protection State: TSL Active=False, SL=None, TP=None
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3170] - Checking Break-Even condition...
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3171] -   Entry=359.8, Current Price=359.9, ATR=0.9297641046309172
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3184] -   Profit: -0.1, Profit in ATRs: -0.108
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3185] -   BE Trigger ATR Multiple: 1
2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3236] - Break-Even profit target not yet reached.
2025-04-22 20:44:23 - WARNING - [pyrmethus_bot_BCH_USDT-USDT:3249] - [33mTrailing Stop is enabled in config but not detected as active on the exchange. Attempting TSL setup/recovery...[0m
2025-04-22 20:44:23 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:2744] - Invalid signal 'SHORT' for TP/SL calculation.
2025-04-22 20:44:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2030] - Calculated Trailing Stop for BCH/USDT:USDT (SHORT):
2025-04-22 20:44:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2031] -   Entry Price: 359.8
2025-04-22 20:44:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2032] -   Activation %: 0.300%, Callback Rate: 0.500%
2025-04-22 20:44:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2033] -   => Calculated Activation Price: 358.7
2025-04-22 20:44:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:2034] -   => Calculated Trail Distance: 1.8
2025-04-22 20:44:23 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:1835] - Error during protection parameter formatting: 'bybit' object has no attribute 'ROUND'
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1774, in _set_position_protection
    fmt_tsl_distance = format_price_param(min_tsl_distance, "Trailing Stop Distance")
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.2.4.py", line 1746, in format_price_param
    formatted_price = exchange.price_to_precision(symbol, float(price_decimal), exchange.ROUND)
                                                                                ^^^^^^^^^^^^^^
AttributeError: 'bybit' object has no attribute 'ROUND'
2025-04-22 20:44:23 - ERROR - [pyrmethus_bot_BCH_USDT-USDT:3264] - [91mTrailing Stop Loss setup/recovery failed.[0m
2025-04-22 20:44:23 - INFO - [pyrmethus_bot_BCH_USDT-USDT:3283] - [1m---=== Cycle End: BCH/USDT:USDT (Duration: 1.80s) ===---[0m

2025-04-22 20:44:23 - DEBUG - [pyrmethus_bot_BCH_USDT-USDT:3492] - <<< Loop #10 End | Duration: 1.80s | Sleeping for: 8.20s...
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3577] - [1m---=== Starting Trading Loop for: BCH/USDT:USDT | Timeframe: 3 ===---[0m
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3578] - Trading Enabled: True | Sandbox Mode: False
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3580] - Key Protections: TSL=ON, BE=ON
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2365] - [36m--- Initializing VolumaticOB Strategy Engine ---[0m
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2366] -   VT Params: Length=40, ATR Period=200, Vol EMA Length=950, ATR Multiplier=3
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2367] -   OB Params: Source='Wicks', PH Lookback=10/10, PL Lookback=10/10, Extend OBs=True, Max Active OBs=50
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2368] -   Minimum Historical Data Required: 1000 candles
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2795] - --- Initializing Signal Generator ---
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2796] -   OB Entry Proximity Factor: 1.005
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2797] -   OB Exit Proximity Factor: 1.001
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2798] -   Initial TP ATR Multiple: 0.7
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2799] -   Initial SL ATR Multiple: 1.8
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2800] - -----------------------------------
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3592] - [1mEntering main trading loop... Press Ctrl+C to stop gracefully.[0m
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3598] - >>> Loop #1 Start: 2025-04-22 21:45:13 CDT
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3060] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3066] - Cycle Config: Trading=ENABLED, Sandbox=False, Risk=1.00%, Lev=20x, TSL=ON (Act%=0.300%, CB%=0.500%), BE=ON (TrigATR=1.0, Offset=2 ticks), InitSL Mult=1.8, InitTP Mult=0.7, OB Source=Wicks
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3087] - Requesting 1000 klines for BCH/USDT:USDT (3m). (Strategy requires min: 1000, Config requests: 750, API limit: 1000)
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:735] - Fetching klines for BCH/USDT:USDT | Timeframe: 3m | Limit: 1000 (Attempt 1/4)
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:744] - Using Bybit category: linear
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:751] - API returned 1000 candles (requested 1000).
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:771] - Last kline timestamp 2025-04-23 02:45:00+00:00 seems recent (Lag: 13.6s <= Max: 900s). Data OK.
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:822] - Processing 1000 fetched candles into DataFrame...
2025-04-22 21:45:13 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:872] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT 3m
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3110] - Running strategy analysis engine...
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2487] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2511] - Calculating indicators (ATR, EMAs, Bands, Volume Norm, Pivots)...
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2566] - Indicator calculations complete.
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2574] - Converting calculated indicators back to Decimal format...
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2602] - Dropped 269 rows from final DataFrame due to missing essential indicators (likely at start).
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2610] - Indicators finalized in Decimal DataFrame. Processing Order Blocks...
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421143900 @ 14:39 [Top:345.6, Bot:343.8]
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421152100 @ 15:21 [Top:345.8, Bot:345.3]
2025-04-22 21:45:13 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421160300 @ 16:03 [Top:346.2, Bot:345.6]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421173600 @ 17:36 [Top:344.6, Bot:343.9]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421192400 @ 19:24 [Top:348.2, Bot:347.6]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250421194200 @ 19:42 [Top:345, Bot:344.4]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250421213000 @ 21:30 [Top:342.7, Bot:341.9]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250421223000 @ 22:30 [Top:342.8, Bot:342.5]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250421230900 @ 23:09 [Top:344, Bot:343.6]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422000300 @ 00:03 [Top:345.5, Bot:345.2]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422003600 @ 00:36 [Top:338.6, Bot:337.1]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422012100 @ 01:21 [Top:346.1, Bot:344.6]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422040300 @ 04:03 [Top:346, Bot:345.8]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422050000 @ 05:00 [Top:343.3, Bot:343.1]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422060000 @ 06:00 [Top:347.6, Bot:345.7]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422071500 @ 07:15 [Top:337.1, Bot:336.4]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422075400 @ 07:54 [Top:350.4, Bot:345]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422084500 @ 08:45 [Top:349.6, Bot:348.5]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422091200 @ 09:12 [Top:346.2, Bot:345.9]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422102400 @ 10:24 [Top:344.8, Bot:344.4]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422110900 @ 11:09 [Top:346.1, Bot:345.7]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422111200 @ 11:12 [Top:348.2, Bot:346.5]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422121500 @ 12:15 [Top:346, Bot:345.7]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422133000 @ 13:30 [Top:347.2, Bot:346.3]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422134800 @ 13:48 [Top:353.4, Bot:351.3]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422142400 @ 14:24 [Top:350.1, Bot:349.4]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422151500 @ 15:15 [Top:361.5, Bot:358.7]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422160000 @ 16:00 [Top:362.2, Bot:361.2]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422172100 @ 17:21 [Top:354.8, Bot:354.1]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422180600 @ 18:06 [Top:358, Bot:357.6]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422185400 @ 18:54 [Top:358.4, Bot:358.1]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422193900 @ 19:39 [Top:355.1, Bot:353.9]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250422210000 @ 21:00 [Top:354.1, Bot:354]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422214800 @ 21:48 [Top:364.6, Bot:358.7]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422233000 @ 23:30 [Top:364.3, Bot:363.7]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250423000300 @ 00:03 [Top:363.4, Bot:362.4]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250423010900 @ 01:09 [Top:363.1, Bot:360.9]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2667] -   + New Bullish OB identified: L_250423015700 @ 01:57 [Top:356.3, Bot:353.6]
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2675] - Identified 38 new Order Blocks in this update.
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421143900 VIOLATED by close 356.5 > 345.6
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421152100 VIOLATED by close 356.5 > 345.8
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421160300 VIOLATED by close 356.5 > 346.2
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421173600 VIOLATED by close 356.5 > 344.6
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421192400 VIOLATED by close 356.5 > 348.2
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422000300 VIOLATED by close 356.5 > 345.5
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422012100 VIOLATED by close 356.5 > 346.1
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422040300 VIOLATED by close 356.5 > 346
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422060000 VIOLATED by close 356.5 > 347.6
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422075400 VIOLATED by close 356.5 > 350.4
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422084500 VIOLATED by close 356.5 > 349.6
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422111200 VIOLATED by close 356.5 > 348.2
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422134800 VIOLATED by close 356.5 > 353.4
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2712] - Pruned Order Blocks. Kept Active: Bulls=17, Bears=8 (Max per type: 50).
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2751] - --- Strategy Analysis Results (2025-04-23 02:45:00 UTC) ---
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2752] -   Last Close: 356.5
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2753] -   Trend: [91mDOWN[0m (Changed: False)
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2754] -   ATR: 0.9543376597033117
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2755] -   Volume Norm: 0
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2756] -   Active OBs (Bull/Bear): 17 / 8
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2757] - ---------------------------------------------
2025-04-22 21:45:14 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3125] - Strategy Analysis Complete: Trend=DOWN, Last Close=356.5, ATR=0.9543376597033117
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3129] - Fetching current market price and checking for open positions...
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:623] - Fetching ticker data for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:663] - Current price successfully fetched for BCH/USDT:USDT: 356.5
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1162] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1176] - Fetching positions with specific params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1215] - Using position size threshold: 0.001
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1232] - Found active position entry: Size=0.01
2025-04-22 21:45:14 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1317] - [91mUnexpected error fetching/processing positions for BCH/USDT:USDT: name 'format_decimal' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1280, in get_open_position
    ep_str = format_decimal(std_pos.get('entryPrice'))
             ^^^^^^^^^^^^^^
NameError: name 'format_decimal' is not defined
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3142] - Generating trading signal based on analysis and position...
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2843] - --- Signal Generation Check ---
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2844] -   Input: Close=356.5, TrendUp=False, TrendChanged=False, Position=None
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2845] -   Active OBs: Bull=17, Bear=8
2025-04-22 21:45:14 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2911] - [91m[1mSELL Signal: Trend DOWN & Price 356.5 within Bear OB entry zone [356.3184079601990049751243781 - 358.4] (OB ID: B_250422185400)[0m
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2918] - --- Signal Result: SELL ---
2025-04-22 21:45:14 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3149] - Generated Signal: [1mSELL[0m
2025-04-22 21:45:14 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3172] - [1mTrading is ENABLED. Processing signal 'SELL'...[0m
2025-04-22 21:45:14 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3176] - [1m*** SELL Signal & No Position: Initiating Entry Sequence... ***[0m
2025-04-22 21:45:14 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1031] - Fetching balance for USDT (Account Type: UNIFIED, Attempt 1/4)...
2025-04-22 21:45:15 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1097] - Successfully parsed balance for USDT: 2.93028305
2025-04-22 21:45:15 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2940] - Calculating Initial TP/SL for SELL signal at entry 356.5 with ATR 0.9543376597033117
2025-04-22 21:45:15 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2973] -   Raw Levels: TP=355.83196363820768181, SL=358.21780778746596106
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3023] -   Calculated Initial Levels: TP=355.8, SL=358.2
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3198] - Setting leverage to 20x for BCH/USDT:USDT...
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1363] - Attempting to set leverage for BCH/USDT:USDT to 20x (Attempt 1/4)...
2025-04-22 21:45:15 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1376] - Using Bybit V5 setLeverage params: {'category': 'linear', 'symbol': 'BCHUSDT', 'buyLeverage': '20', 'sellLeverage': '20'}
2025-04-22 21:45:15 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1407] - [91mExchange error setting leverage for BCH/USDT:USDT: bybit {"retCode":110043,"retMsg":"leverage not modified","result":{},"retExtInfo":{},"time":1745376316391} (Code: None)[0m
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1411] - [33mLeverage already set (detected via error). Treating as success.[0m
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1477] - --- Position Sizing Calculation (BCH/USDT:USDT) ---
2025-04-22 21:45:15 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1525] - Market Constraints: Amount Step=0.01, Min/Max Amount=0.01/5.3E+3, Min/Max Cost=0/Infinity, Contract Size=1
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1541] -   Balance: 2.93028305 USDT
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1542] -   Risk Per Trade: 1.00%
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1543] -   Risk Amount: 0.0293028305 USDT
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1544] -   Entry Price: 356.5
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1545] -   Stop Loss Price: 358.2
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1546] -   Stop Loss Distance (Price): 1.7
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1547] -   Contract Type: Linear/Spot
2025-04-22 21:45:15 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1561] -   Linear/Spot Calc: RiskAmt=0.0293028305 / (SLDist=1.7 * ContrSize=1.0) = 0.01723695911764705882352941176
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1589] -   Initial Calculated Size = 0.01723695911764705882352941176 Contracts
2025-04-22 21:45:15 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1601] -   Size after Amount Limits: 0.01723695911764705882352941176 Contracts
2025-04-22 21:45:15 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1610] -   Estimated Cost for adjusted size: 6.144975925441176470588235292 USDT
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1667] - Applied amount precision (CCXT): 0.01723695911764705882352941176 -> 0.01 Contracts
2025-04-22 21:45:15 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1702] -   Final Estimated Cost: 3.565 USDT
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1730] - [92m[1mFinal Calculated Position Size: 0.01 Contracts[0m
2025-04-22 21:45:15 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1731] - --- End Position Sizing ---
2025-04-22 21:45:15 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3214] - [1m===> PLACING SELL MARKET ORDER | Size: 0.01 <===[0m
2025-04-22 21:45:15 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:3635] - [91mCritical unexpected error in main trading loop: name 'quote_currency' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3602, in main
    analyze_and_trade_symbol(
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3215, in analyze_and_trade_symbol
    trade_order = place_trade(exchange, symbol, signal, position_size, market_info, lg, reduce_only=False)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1773, in place_trade
    settle_currency = market_info.get('settle', quote_currency) if is_contract else base_currency
                                                ^^^^^^^^^^^^^^
NameError: name 'quote_currency' is not defined. Did you mean: 'base_currency'?
2025-04-22 21:45:15 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3636] - Waiting 15 seconds before next cycle attempt...
2025-04-22 21:45:30 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3645] - <<< Loop #1 completed in 17.70s. Sleeping for 0.00s...
2025-04-22 21:45:30 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3598] - >>> Loop #2 Start: 2025-04-22 21:45:30 CDT
2025-04-22 21:45:30 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3060] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 21:45:30 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3066] - Cycle Config: Trading=ENABLED, Sandbox=False, Risk=1.00%, Lev=20x, TSL=ON (Act%=0.300%, CB%=0.500%), BE=ON (TrigATR=1.0, Offset=2 ticks), InitSL Mult=1.8, InitTP Mult=0.7, OB Source=Wicks
2025-04-22 21:45:30 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3087] - Requesting 1000 klines for BCH/USDT:USDT (3m). (Strategy requires min: 1000, Config requests: 750, API limit: 1000)
2025-04-22 21:45:30 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:735] - Fetching klines for BCH/USDT:USDT | Timeframe: 3m | Limit: 1000 (Attempt 1/4)
2025-04-22 21:45:30 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:744] - Using Bybit category: linear
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:751] - API returned 1000 candles (requested 1000).
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:771] - Last kline timestamp 2025-04-23 02:45:00+00:00 seems recent (Lag: 31.2s <= Max: 900s). Data OK.
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:822] - Processing 1000 fetched candles into DataFrame...
2025-04-22 21:45:31 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:872] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT 3m
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3110] - Running strategy analysis engine...
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2487] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2511] - Calculating indicators (ATR, EMAs, Bands, Volume Norm, Pivots)...
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2566] - Indicator calculations complete.
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2574] - Converting calculated indicators back to Decimal format...
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2602] - Dropped 269 rows from final DataFrame due to missing essential indicators (likely at start).
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2610] - Indicators finalized in Decimal DataFrame. Processing Order Blocks...
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421143900 @ 14:39 [Top:345.6, Bot:343.8]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421152100 @ 15:21 [Top:345.8, Bot:345.3]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421160300 @ 16:03 [Top:346.2, Bot:345.6]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421173600 @ 17:36 [Top:344.6, Bot:343.9]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421192400 @ 19:24 [Top:348.2, Bot:347.6]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422000300 @ 00:03 [Top:345.5, Bot:345.2]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422012100 @ 01:21 [Top:346.1, Bot:344.6]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422040300 @ 04:03 [Top:346, Bot:345.8]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422060000 @ 06:00 [Top:347.6, Bot:345.7]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422075400 @ 07:54 [Top:350.4, Bot:345]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422084500 @ 08:45 [Top:349.6, Bot:348.5]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422111200 @ 11:12 [Top:348.2, Bot:346.5]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422134800 @ 13:48 [Top:353.4, Bot:351.3]
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2675] - Identified 13 new Order Blocks in this update.
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421143900 VIOLATED by close 356.3 > 345.6
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421152100 VIOLATED by close 356.3 > 345.8
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421160300 VIOLATED by close 356.3 > 346.2
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421173600 VIOLATED by close 356.3 > 344.6
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421192400 VIOLATED by close 356.3 > 348.2
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422000300 VIOLATED by close 356.3 > 345.5
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422012100 VIOLATED by close 356.3 > 346.1
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422040300 VIOLATED by close 356.3 > 346
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422060000 VIOLATED by close 356.3 > 347.6
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422075400 VIOLATED by close 356.3 > 350.4
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422084500 VIOLATED by close 356.3 > 349.6
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422111200 VIOLATED by close 356.3 > 348.2
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422134800 VIOLATED by close 356.3 > 353.4
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2712] - Pruned Order Blocks. Kept Active: Bulls=17, Bears=8 (Max per type: 50).
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2751] - --- Strategy Analysis Results (2025-04-23 02:45:00 UTC) ---
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2752] -   Last Close: 356.3
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2753] -   Trend: [91mDOWN[0m (Changed: False)
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2754] -   ATR: 0.9553443921313959
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2755] -   Volume Norm: 0
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2756] -   Active OBs (Bull/Bear): 17 / 8
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2757] - ---------------------------------------------
2025-04-22 21:45:31 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3125] - Strategy Analysis Complete: Trend=DOWN, Last Close=356.3, ATR=0.9553443921313959
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3129] - Fetching current market price and checking for open positions...
2025-04-22 21:45:31 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:623] - Fetching ticker data for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:663] - Current price successfully fetched for BCH/USDT:USDT: 356.3
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1162] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1176] - Fetching positions with specific params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1215] - Using position size threshold: 0.001
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1232] - Found active position entry: Size=0.01
2025-04-22 21:45:32 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1317] - [91mUnexpected error fetching/processing positions for BCH/USDT:USDT: name 'format_decimal' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1280, in get_open_position
    ep_str = format_decimal(std_pos.get('entryPrice'))
             ^^^^^^^^^^^^^^
NameError: name 'format_decimal' is not defined
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3142] - Generating trading signal based on analysis and position...
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2843] - --- Signal Generation Check ---
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2844] -   Input: Close=356.3, TrendUp=False, TrendChanged=False, Position=None
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2845] -   Active OBs: Bull=17, Bear=8
2025-04-22 21:45:32 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2911] - [91m[1mSELL Signal: Trend DOWN & Price 356.3 within Bear OB entry zone [355.8208955223880597014925373 - 358] (OB ID: B_250422180600)[0m
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2918] - --- Signal Result: SELL ---
2025-04-22 21:45:32 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3149] - Generated Signal: [1mSELL[0m
2025-04-22 21:45:32 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3172] - [1mTrading is ENABLED. Processing signal 'SELL'...[0m
2025-04-22 21:45:32 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3176] - [1m*** SELL Signal & No Position: Initiating Entry Sequence... ***[0m
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1031] - Fetching balance for USDT (Account Type: UNIFIED, Attempt 1/4)...
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1097] - Successfully parsed balance for USDT: 2.93028305
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2940] - Calculating Initial TP/SL for SELL signal at entry 356.3 with ATR 0.9553443921313959
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2973] -   Raw Levels: TP=355.63125892550802287, SL=358.01961990583651262
2025-04-22 21:45:32 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3023] -   Calculated Initial Levels: TP=355.6, SL=358
2025-04-22 21:45:32 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3198] - Setting leverage to 20x for BCH/USDT:USDT...
2025-04-22 21:45:32 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1363] - Attempting to set leverage for BCH/USDT:USDT to 20x (Attempt 1/4)...
2025-04-22 21:45:32 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1376] - Using Bybit V5 setLeverage params: {'category': 'linear', 'symbol': 'BCHUSDT', 'buyLeverage': '20', 'sellLeverage': '20'}
2025-04-22 21:45:33 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1407] - [91mExchange error setting leverage for BCH/USDT:USDT: bybit {"retCode":110043,"retMsg":"leverage not modified","result":{},"retExtInfo":{},"time":1745376333879} (Code: None)[0m
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1411] - [33mLeverage already set (detected via error). Treating as success.[0m
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1477] - --- Position Sizing Calculation (BCH/USDT:USDT) ---
2025-04-22 21:45:33 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1525] - Market Constraints: Amount Step=0.01, Min/Max Amount=0.01/5.3E+3, Min/Max Cost=0/Infinity, Contract Size=1
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1541] -   Balance: 2.93028305 USDT
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1542] -   Risk Per Trade: 1.00%
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1543] -   Risk Amount: 0.0293028305 USDT
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1544] -   Entry Price: 356.3
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1545] -   Stop Loss Price: 358
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1546] -   Stop Loss Distance (Price): 1.7
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1547] -   Contract Type: Linear/Spot
2025-04-22 21:45:33 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1561] -   Linear/Spot Calc: RiskAmt=0.0293028305 / (SLDist=1.7 * ContrSize=1.0) = 0.01723695911764705882352941176
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1589] -   Initial Calculated Size = 0.01723695911764705882352941176 Contracts
2025-04-22 21:45:33 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1601] -   Size after Amount Limits: 0.01723695911764705882352941176 Contracts
2025-04-22 21:45:33 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1610] -   Estimated Cost for adjusted size: 6.14152853361764705882352941 USDT
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1667] - Applied amount precision (CCXT): 0.01723695911764705882352941176 -> 0.01 Contracts
2025-04-22 21:45:33 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1702] -   Final Estimated Cost: 3.563 USDT
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1730] - [92m[1mFinal Calculated Position Size: 0.01 Contracts[0m
2025-04-22 21:45:33 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1731] - --- End Position Sizing ---
2025-04-22 21:45:33 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3214] - [1m===> PLACING SELL MARKET ORDER | Size: 0.01 <===[0m
2025-04-22 21:45:33 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:3635] - [91mCritical unexpected error in main trading loop: name 'quote_currency' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3602, in main
    analyze_and_trade_symbol(
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3215, in analyze_and_trade_symbol
    trade_order = place_trade(exchange, symbol, signal, position_size, market_info, lg, reduce_only=False)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1773, in place_trade
    settle_currency = market_info.get('settle', quote_currency) if is_contract else base_currency
                                                ^^^^^^^^^^^^^^
NameError: name 'quote_currency' is not defined. Did you mean: 'base_currency'?
2025-04-22 21:45:33 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3636] - Waiting 15 seconds before next cycle attempt...
2025-04-22 21:45:48 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3645] - <<< Loop #2 completed in 17.50s. Sleeping for 0.00s...
2025-04-22 21:45:48 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3598] - >>> Loop #3 Start: 2025-04-22 21:45:48 CDT
2025-04-22 21:45:48 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3060] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 21:45:48 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3066] - Cycle Config: Trading=ENABLED, Sandbox=False, Risk=1.00%, Lev=20x, TSL=ON (Act%=0.300%, CB%=0.500%), BE=ON (TrigATR=1.0, Offset=2 ticks), InitSL Mult=1.8, InitTP Mult=0.7, OB Source=Wicks
2025-04-22 21:45:48 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3087] - Requesting 1000 klines for BCH/USDT:USDT (3m). (Strategy requires min: 1000, Config requests: 750, API limit: 1000)
2025-04-22 21:45:48 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:735] - Fetching klines for BCH/USDT:USDT | Timeframe: 3m | Limit: 1000 (Attempt 1/4)
2025-04-22 21:45:48 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:744] - Using Bybit category: linear
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:751] - API returned 1000 candles (requested 1000).
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:771] - Last kline timestamp 2025-04-23 02:45:00+00:00 seems recent (Lag: 49.0s <= Max: 900s). Data OK.
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:822] - Processing 1000 fetched candles into DataFrame...
2025-04-22 21:45:49 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:872] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT 3m
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3110] - Running strategy analysis engine...
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2487] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2511] - Calculating indicators (ATR, EMAs, Bands, Volume Norm, Pivots)...
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2566] - Indicator calculations complete.
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2574] - Converting calculated indicators back to Decimal format...
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2602] - Dropped 269 rows from final DataFrame due to missing essential indicators (likely at start).
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2610] - Indicators finalized in Decimal DataFrame. Processing Order Blocks...
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421143900 @ 14:39 [Top:345.6, Bot:343.8]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421152100 @ 15:21 [Top:345.8, Bot:345.3]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421160300 @ 16:03 [Top:346.2, Bot:345.6]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421173600 @ 17:36 [Top:344.6, Bot:343.9]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421192400 @ 19:24 [Top:348.2, Bot:347.6]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422000300 @ 00:03 [Top:345.5, Bot:345.2]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422012100 @ 01:21 [Top:346.1, Bot:344.6]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422040300 @ 04:03 [Top:346, Bot:345.8]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422060000 @ 06:00 [Top:347.6, Bot:345.7]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422075400 @ 07:54 [Top:350.4, Bot:345]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422084500 @ 08:45 [Top:349.6, Bot:348.5]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422111200 @ 11:12 [Top:348.2, Bot:346.5]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422134800 @ 13:48 [Top:353.4, Bot:351.3]
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2675] - Identified 13 new Order Blocks in this update.
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421143900 VIOLATED by close 356.2 > 345.6
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421152100 VIOLATED by close 356.2 > 345.8
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421160300 VIOLATED by close 356.2 > 346.2
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421173600 VIOLATED by close 356.2 > 344.6
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421192400 VIOLATED by close 356.2 > 348.2
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422000300 VIOLATED by close 356.2 > 345.5
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422012100 VIOLATED by close 356.2 > 346.1
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422040300 VIOLATED by close 356.2 > 346
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422060000 VIOLATED by close 356.2 > 347.6
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422075400 VIOLATED by close 356.2 > 350.4
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422084500 VIOLATED by close 356.2 > 349.6
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422111200 VIOLATED by close 356.2 > 348.2
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422134800 VIOLATED by close 356.2 > 353.4
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2712] - Pruned Order Blocks. Kept Active: Bulls=17, Bears=8 (Max per type: 50).
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2751] - --- Strategy Analysis Results (2025-04-23 02:45:00 UTC) ---
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2752] -   Last Close: 356.2
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2753] -   Trend: [91mDOWN[0m (Changed: False)
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2754] -   ATR: 0.9558477583454381
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2755] -   Volume Norm: 0
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2756] -   Active OBs (Bull/Bear): 17 / 8
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2757] - ---------------------------------------------
2025-04-22 21:45:49 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3125] - Strategy Analysis Complete: Trend=DOWN, Last Close=356.2, ATR=0.9558477583454381
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3129] - Fetching current market price and checking for open positions...
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:623] - Fetching ticker data for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:663] - Current price successfully fetched for BCH/USDT:USDT: 356.2
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1162] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 21:45:49 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1176] - Fetching positions with specific params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1215] - Using position size threshold: 0.001
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1232] - Found active position entry: Size=0.01
2025-04-22 21:45:50 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1317] - [91mUnexpected error fetching/processing positions for BCH/USDT:USDT: name 'format_decimal' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1280, in get_open_position
    ep_str = format_decimal(std_pos.get('entryPrice'))
             ^^^^^^^^^^^^^^
NameError: name 'format_decimal' is not defined
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3142] - Generating trading signal based on analysis and position...
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2843] - --- Signal Generation Check ---
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2844] -   Input: Close=356.2, TrendUp=False, TrendChanged=False, Position=None
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2845] -   Active OBs: Bull=17, Bear=8
2025-04-22 21:45:50 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2911] - [91m[1mSELL Signal: Trend DOWN & Price 356.2 within Bear OB entry zone [355.8208955223880597014925373 - 358] (OB ID: B_250422180600)[0m
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2918] - --- Signal Result: SELL ---
2025-04-22 21:45:50 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3149] - Generated Signal: [1mSELL[0m
2025-04-22 21:45:50 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3172] - [1mTrading is ENABLED. Processing signal 'SELL'...[0m
2025-04-22 21:45:50 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3176] - [1m*** SELL Signal & No Position: Initiating Entry Sequence... ***[0m
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1031] - Fetching balance for USDT (Account Type: UNIFIED, Attempt 1/4)...
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1097] - Successfully parsed balance for USDT: 2.93028305
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2940] - Calculating Initial TP/SL for SELL signal at entry 356.2 with ATR 0.9558477583454381
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2973] -   Raw Levels: TP=355.53090656915819333, SL=357.92052596502178858
2025-04-22 21:45:50 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3023] -   Calculated Initial Levels: TP=355.5, SL=357.9
2025-04-22 21:45:50 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3198] - Setting leverage to 20x for BCH/USDT:USDT...
2025-04-22 21:45:50 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1363] - Attempting to set leverage for BCH/USDT:USDT to 20x (Attempt 1/4)...
2025-04-22 21:45:50 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1376] - Using Bybit V5 setLeverage params: {'category': 'linear', 'symbol': 'BCHUSDT', 'buyLeverage': '20', 'sellLeverage': '20'}
2025-04-22 21:45:51 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1407] - [91mExchange error setting leverage for BCH/USDT:USDT: bybit {"retCode":110043,"retMsg":"leverage not modified","result":{},"retExtInfo":{},"time":1745376351680} (Code: None)[0m
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1411] - [33mLeverage already set (detected via error). Treating as success.[0m
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1477] - --- Position Sizing Calculation (BCH/USDT:USDT) ---
2025-04-22 21:45:51 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1525] - Market Constraints: Amount Step=0.01, Min/Max Amount=0.01/5.3E+3, Min/Max Cost=0/Infinity, Contract Size=1
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1541] -   Balance: 2.93028305 USDT
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1542] -   Risk Per Trade: 1.00%
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1543] -   Risk Amount: 0.0293028305 USDT
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1544] -   Entry Price: 356.2
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1545] -   Stop Loss Price: 357.9
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1546] -   Stop Loss Distance (Price): 1.7
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1547] -   Contract Type: Linear/Spot
2025-04-22 21:45:51 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1561] -   Linear/Spot Calc: RiskAmt=0.0293028305 / (SLDist=1.7 * ContrSize=1.0) = 0.01723695911764705882352941176
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1589] -   Initial Calculated Size = 0.01723695911764705882352941176 Contracts
2025-04-22 21:45:51 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1601] -   Size after Amount Limits: 0.01723695911764705882352941176 Contracts
2025-04-22 21:45:51 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1610] -   Estimated Cost for adjusted size: 6.139804837705882352941176469 USDT
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1667] - Applied amount precision (CCXT): 0.01723695911764705882352941176 -> 0.01 Contracts
2025-04-22 21:45:51 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1702] -   Final Estimated Cost: 3.562 USDT
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1730] - [92m[1mFinal Calculated Position Size: 0.01 Contracts[0m
2025-04-22 21:45:51 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1731] - --- End Position Sizing ---
2025-04-22 21:45:51 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3214] - [1m===> PLACING SELL MARKET ORDER | Size: 0.01 <===[0m
2025-04-22 21:45:51 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:3635] - [91mCritical unexpected error in main trading loop: name 'quote_currency' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3602, in main
    analyze_and_trade_symbol(
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3215, in analyze_and_trade_symbol
    trade_order = place_trade(exchange, symbol, signal, position_size, market_info, lg, reduce_only=False)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1773, in place_trade
    settle_currency = market_info.get('settle', quote_currency) if is_contract else base_currency
                                                ^^^^^^^^^^^^^^
NameError: name 'quote_currency' is not defined. Did you mean: 'base_currency'?
2025-04-22 21:45:51 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3636] - Waiting 15 seconds before next cycle attempt...
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3645] - <<< Loop #3 completed in 17.78s. Sleeping for 0.00s...
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3598] - >>> Loop #4 Start: 2025-04-22 21:46:06 CDT
2025-04-22 21:46:06 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3060] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3066] - Cycle Config: Trading=ENABLED, Sandbox=False, Risk=1.00%, Lev=20x, TSL=ON (Act%=0.300%, CB%=0.500%), BE=ON (TrigATR=1.0, Offset=2 ticks), InitSL Mult=1.8, InitTP Mult=0.7, OB Source=Wicks
2025-04-22 21:46:06 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3087] - Requesting 1000 klines for BCH/USDT:USDT (3m). (Strategy requires min: 1000, Config requests: 750, API limit: 1000)
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:735] - Fetching klines for BCH/USDT:USDT | Timeframe: 3m | Limit: 1000 (Attempt 1/4)
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:744] - Using Bybit category: linear
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:751] - API returned 1000 candles (requested 1000).
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:771] - Last kline timestamp 2025-04-23 02:45:00+00:00 seems recent (Lag: 66.5s <= Max: 900s). Data OK.
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:822] - Processing 1000 fetched candles into DataFrame...
2025-04-22 21:46:06 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:872] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT 3m
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3110] - Running strategy analysis engine...
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2487] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2511] - Calculating indicators (ATR, EMAs, Bands, Volume Norm, Pivots)...
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2566] - Indicator calculations complete.
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2574] - Converting calculated indicators back to Decimal format...
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2602] - Dropped 269 rows from final DataFrame due to missing essential indicators (likely at start).
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2610] - Indicators finalized in Decimal DataFrame. Processing Order Blocks...
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421143900 @ 14:39 [Top:345.6, Bot:343.8]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421152100 @ 15:21 [Top:345.8, Bot:345.3]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421160300 @ 16:03 [Top:346.2, Bot:345.6]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421173600 @ 17:36 [Top:344.6, Bot:343.9]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421192400 @ 19:24 [Top:348.2, Bot:347.6]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422000300 @ 00:03 [Top:345.5, Bot:345.2]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422012100 @ 01:21 [Top:346.1, Bot:344.6]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422040300 @ 04:03 [Top:346, Bot:345.8]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422060000 @ 06:00 [Top:347.6, Bot:345.7]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422075400 @ 07:54 [Top:350.4, Bot:345]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422084500 @ 08:45 [Top:349.6, Bot:348.5]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422111200 @ 11:12 [Top:348.2, Bot:346.5]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422134800 @ 13:48 [Top:353.4, Bot:351.3]
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2675] - Identified 13 new Order Blocks in this update.
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421143900 VIOLATED by close 356.1 > 345.6
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421152100 VIOLATED by close 356.1 > 345.8
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421160300 VIOLATED by close 356.1 > 346.2
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421173600 VIOLATED by close 356.1 > 344.6
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421192400 VIOLATED by close 356.1 > 348.2
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422000300 VIOLATED by close 356.1 > 345.5
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422012100 VIOLATED by close 356.1 > 346.1
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422040300 VIOLATED by close 356.1 > 346
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422060000 VIOLATED by close 356.1 > 347.6
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422075400 VIOLATED by close 356.1 > 350.4
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422084500 VIOLATED by close 356.1 > 349.6
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422111200 VIOLATED by close 356.1 > 348.2
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422134800 VIOLATED by close 356.1 > 353.4
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2712] - Pruned Order Blocks. Kept Active: Bulls=17, Bears=8 (Max per type: 50).
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2751] - --- Strategy Analysis Results (2025-04-23 02:45:00 UTC) ---
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2752] -   Last Close: 356.1
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2753] -   Trend: [91mDOWN[0m (Changed: False)
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2754] -   ATR: 0.95635112455948
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2755] -   Volume Norm: 0
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2756] -   Active OBs (Bull/Bear): 17 / 8
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2757] - ---------------------------------------------
2025-04-22 21:46:06 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3125] - Strategy Analysis Complete: Trend=DOWN, Last Close=356.1, ATR=0.95635112455948
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3129] - Fetching current market price and checking for open positions...
2025-04-22 21:46:06 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:623] - Fetching ticker data for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:663] - Current price successfully fetched for BCH/USDT:USDT: 356.1
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1162] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1176] - Fetching positions with specific params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1215] - Using position size threshold: 0.001
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1232] - Found active position entry: Size=0.01
2025-04-22 21:46:07 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1317] - [91mUnexpected error fetching/processing positions for BCH/USDT:USDT: name 'format_decimal' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1280, in get_open_position
    ep_str = format_decimal(std_pos.get('entryPrice'))
             ^^^^^^^^^^^^^^
NameError: name 'format_decimal' is not defined
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3142] - Generating trading signal based on analysis and position...
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2843] - --- Signal Generation Check ---
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2844] -   Input: Close=356.1, TrendUp=False, TrendChanged=False, Position=None
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2845] -   Active OBs: Bull=17, Bear=8
2025-04-22 21:46:07 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2911] - [91m[1mSELL Signal: Trend DOWN & Price 356.1 within Bear OB entry zone [355.8208955223880597014925373 - 358] (OB ID: B_250422180600)[0m
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2918] - --- Signal Result: SELL ---
2025-04-22 21:46:07 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3149] - Generated Signal: [1mSELL[0m
2025-04-22 21:46:07 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3172] - [1mTrading is ENABLED. Processing signal 'SELL'...[0m
2025-04-22 21:46:07 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3176] - [1m*** SELL Signal & No Position: Initiating Entry Sequence... ***[0m
2025-04-22 21:46:07 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1031] - Fetching balance for USDT (Account Type: UNIFIED, Attempt 1/4)...
2025-04-22 21:46:08 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1097] - Successfully parsed balance for USDT: 2.93028305
2025-04-22 21:46:08 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2940] - Calculating Initial TP/SL for SELL signal at entry 356.1 with ATR 0.95635112455948
2025-04-22 21:46:08 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2973] -   Raw Levels: TP=355.430554212808364, SL=357.821432024207064
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3023] -   Calculated Initial Levels: TP=355.4, SL=357.8
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3198] - Setting leverage to 20x for BCH/USDT:USDT...
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1363] - Attempting to set leverage for BCH/USDT:USDT to 20x (Attempt 1/4)...
2025-04-22 21:46:08 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1376] - Using Bybit V5 setLeverage params: {'category': 'linear', 'symbol': 'BCHUSDT', 'buyLeverage': '20', 'sellLeverage': '20'}
2025-04-22 21:46:08 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1407] - [91mExchange error setting leverage for BCH/USDT:USDT: bybit {"retCode":110043,"retMsg":"leverage not modified","result":{},"retExtInfo":{},"time":1745376369154} (Code: None)[0m
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1411] - [33mLeverage already set (detected via error). Treating as success.[0m
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1477] - --- Position Sizing Calculation (BCH/USDT:USDT) ---
2025-04-22 21:46:08 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1525] - Market Constraints: Amount Step=0.01, Min/Max Amount=0.01/5.3E+3, Min/Max Cost=0/Infinity, Contract Size=1
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1541] -   Balance: 2.93028305 USDT
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1542] -   Risk Per Trade: 1.00%
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1543] -   Risk Amount: 0.0293028305 USDT
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1544] -   Entry Price: 356.1
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1545] -   Stop Loss Price: 357.8
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1546] -   Stop Loss Distance (Price): 1.7
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1547] -   Contract Type: Linear/Spot
2025-04-22 21:46:08 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1561] -   Linear/Spot Calc: RiskAmt=0.0293028305 / (SLDist=1.7 * ContrSize=1.0) = 0.01723695911764705882352941176
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1589] -   Initial Calculated Size = 0.01723695911764705882352941176 Contracts
2025-04-22 21:46:08 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1601] -   Size after Amount Limits: 0.01723695911764705882352941176 Contracts
2025-04-22 21:46:08 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1610] -   Estimated Cost for adjusted size: 6.138081141794117647058823528 USDT
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1667] - Applied amount precision (CCXT): 0.01723695911764705882352941176 -> 0.01 Contracts
2025-04-22 21:46:08 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1702] -   Final Estimated Cost: 3.561 USDT
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1730] - [92m[1mFinal Calculated Position Size: 0.01 Contracts[0m
2025-04-22 21:46:08 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1731] - --- End Position Sizing ---
2025-04-22 21:46:08 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3214] - [1m===> PLACING SELL MARKET ORDER | Size: 0.01 <===[0m
2025-04-22 21:46:08 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:3635] - [91mCritical unexpected error in main trading loop: name 'quote_currency' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3602, in main
    analyze_and_trade_symbol(
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3215, in analyze_and_trade_symbol
    trade_order = place_trade(exchange, symbol, signal, position_size, market_info, lg, reduce_only=False)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1773, in place_trade
    settle_currency = market_info.get('settle', quote_currency) if is_contract else base_currency
                                                ^^^^^^^^^^^^^^
NameError: name 'quote_currency' is not defined. Did you mean: 'base_currency'?
2025-04-22 21:46:08 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3636] - Waiting 15 seconds before next cycle attempt...
2025-04-22 21:46:23 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3645] - <<< Loop #4 completed in 17.47s. Sleeping for 0.00s...
2025-04-22 21:46:23 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3598] - >>> Loop #5 Start: 2025-04-22 21:46:23 CDT
2025-04-22 21:46:23 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3060] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 21:46:23 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3066] - Cycle Config: Trading=ENABLED, Sandbox=False, Risk=1.00%, Lev=20x, TSL=ON (Act%=0.300%, CB%=0.500%), BE=ON (TrigATR=1.0, Offset=2 ticks), InitSL Mult=1.8, InitTP Mult=0.7, OB Source=Wicks
2025-04-22 21:46:23 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3087] - Requesting 1000 klines for BCH/USDT:USDT (3m). (Strategy requires min: 1000, Config requests: 750, API limit: 1000)
2025-04-22 21:46:23 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:735] - Fetching klines for BCH/USDT:USDT | Timeframe: 3m | Limit: 1000 (Attempt 1/4)
2025-04-22 21:46:23 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:744] - Using Bybit category: linear
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:751] - API returned 1000 candles (requested 1000).
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:771] - Last kline timestamp 2025-04-23 02:45:00+00:00 seems recent (Lag: 84.3s <= Max: 900s). Data OK.
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:822] - Processing 1000 fetched candles into DataFrame...
2025-04-22 21:46:24 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:872] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT 3m
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3110] - Running strategy analysis engine...
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2487] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2511] - Calculating indicators (ATR, EMAs, Bands, Volume Norm, Pivots)...
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2566] - Indicator calculations complete.
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2574] - Converting calculated indicators back to Decimal format...
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2602] - Dropped 269 rows from final DataFrame due to missing essential indicators (likely at start).
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2610] - Indicators finalized in Decimal DataFrame. Processing Order Blocks...
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421143900 @ 14:39 [Top:345.6, Bot:343.8]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421152100 @ 15:21 [Top:345.8, Bot:345.3]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421160300 @ 16:03 [Top:346.2, Bot:345.6]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421173600 @ 17:36 [Top:344.6, Bot:343.9]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421192400 @ 19:24 [Top:348.2, Bot:347.6]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422000300 @ 00:03 [Top:345.5, Bot:345.2]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422012100 @ 01:21 [Top:346.1, Bot:344.6]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422040300 @ 04:03 [Top:346, Bot:345.8]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422060000 @ 06:00 [Top:347.6, Bot:345.7]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422075400 @ 07:54 [Top:350.4, Bot:345]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422084500 @ 08:45 [Top:349.6, Bot:348.5]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422111200 @ 11:12 [Top:348.2, Bot:346.5]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422134800 @ 13:48 [Top:353.4, Bot:351.3]
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2675] - Identified 13 new Order Blocks in this update.
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421143900 VIOLATED by close 356.1 > 345.6
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421152100 VIOLATED by close 356.1 > 345.8
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421160300 VIOLATED by close 356.1 > 346.2
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421173600 VIOLATED by close 356.1 > 344.6
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421192400 VIOLATED by close 356.1 > 348.2
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422000300 VIOLATED by close 356.1 > 345.5
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422012100 VIOLATED by close 356.1 > 346.1
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422040300 VIOLATED by close 356.1 > 346
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422060000 VIOLATED by close 356.1 > 347.6
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422075400 VIOLATED by close 356.1 > 350.4
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422084500 VIOLATED by close 356.1 > 349.6
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422111200 VIOLATED by close 356.1 > 348.2
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422134800 VIOLATED by close 356.1 > 353.4
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2712] - Pruned Order Blocks. Kept Active: Bulls=17, Bears=8 (Max per type: 50).
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2751] - --- Strategy Analysis Results (2025-04-23 02:45:00 UTC) ---
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2752] -   Last Close: 356.1
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2753] -   Trend: [91mDOWN[0m (Changed: False)
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2754] -   ATR: 0.9568544907735222
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2755] -   Volume Norm: 0
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2756] -   Active OBs (Bull/Bear): 17 / 8
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2757] - ---------------------------------------------
2025-04-22 21:46:24 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3125] - Strategy Analysis Complete: Trend=DOWN, Last Close=356.1, ATR=0.9568544907735222
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3129] - Fetching current market price and checking for open positions...
2025-04-22 21:46:24 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:623] - Fetching ticker data for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:663] - Current price successfully fetched for BCH/USDT:USDT: 356.1
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1162] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1176] - Fetching positions with specific params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1215] - Using position size threshold: 0.001
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1232] - Found active position entry: Size=0.01
2025-04-22 21:46:25 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1317] - [91mUnexpected error fetching/processing positions for BCH/USDT:USDT: name 'format_decimal' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1280, in get_open_position
    ep_str = format_decimal(std_pos.get('entryPrice'))
             ^^^^^^^^^^^^^^
NameError: name 'format_decimal' is not defined
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3142] - Generating trading signal based on analysis and position...
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2843] - --- Signal Generation Check ---
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2844] -   Input: Close=356.1, TrendUp=False, TrendChanged=False, Position=None
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2845] -   Active OBs: Bull=17, Bear=8
2025-04-22 21:46:25 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2911] - [91m[1mSELL Signal: Trend DOWN & Price 356.1 within Bear OB entry zone [355.8208955223880597014925373 - 358] (OB ID: B_250422180600)[0m
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2918] - --- Signal Result: SELL ---
2025-04-22 21:46:25 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3149] - Generated Signal: [1mSELL[0m
2025-04-22 21:46:25 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3172] - [1mTrading is ENABLED. Processing signal 'SELL'...[0m
2025-04-22 21:46:25 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3176] - [1m*** SELL Signal & No Position: Initiating Entry Sequence... ***[0m
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1031] - Fetching balance for USDT (Account Type: UNIFIED, Attempt 1/4)...
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1097] - Successfully parsed balance for USDT: 2.93028305
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2940] - Calculating Initial TP/SL for SELL signal at entry 356.1 with ATR 0.9568544907735222
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2973] -   Raw Levels: TP=355.43020185645853446, SL=357.82233808339233996
2025-04-22 21:46:25 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3023] -   Calculated Initial Levels: TP=355.4, SL=357.8
2025-04-22 21:46:25 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3198] - Setting leverage to 20x for BCH/USDT:USDT...
2025-04-22 21:46:25 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1363] - Attempting to set leverage for BCH/USDT:USDT to 20x (Attempt 1/4)...
2025-04-22 21:46:25 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1376] - Using Bybit V5 setLeverage params: {'category': 'linear', 'symbol': 'BCHUSDT', 'buyLeverage': '20', 'sellLeverage': '20'}
2025-04-22 21:46:26 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1407] - [91mExchange error setting leverage for BCH/USDT:USDT: bybit {"retCode":110043,"retMsg":"leverage not modified","result":{},"retExtInfo":{},"time":1745376386940} (Code: None)[0m
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1411] - [33mLeverage already set (detected via error). Treating as success.[0m
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1477] - --- Position Sizing Calculation (BCH/USDT:USDT) ---
2025-04-22 21:46:26 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1525] - Market Constraints: Amount Step=0.01, Min/Max Amount=0.01/5.3E+3, Min/Max Cost=0/Infinity, Contract Size=1
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1541] -   Balance: 2.93028305 USDT
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1542] -   Risk Per Trade: 1.00%
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1543] -   Risk Amount: 0.0293028305 USDT
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1544] -   Entry Price: 356.1
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1545] -   Stop Loss Price: 357.8
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1546] -   Stop Loss Distance (Price): 1.7
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1547] -   Contract Type: Linear/Spot
2025-04-22 21:46:26 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1561] -   Linear/Spot Calc: RiskAmt=0.0293028305 / (SLDist=1.7 * ContrSize=1.0) = 0.01723695911764705882352941176
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1589] -   Initial Calculated Size = 0.01723695911764705882352941176 Contracts
2025-04-22 21:46:26 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1601] -   Size after Amount Limits: 0.01723695911764705882352941176 Contracts
2025-04-22 21:46:26 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1610] -   Estimated Cost for adjusted size: 6.138081141794117647058823528 USDT
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1667] - Applied amount precision (CCXT): 0.01723695911764705882352941176 -> 0.01 Contracts
2025-04-22 21:46:26 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1702] -   Final Estimated Cost: 3.561 USDT
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1730] - [92m[1mFinal Calculated Position Size: 0.01 Contracts[0m
2025-04-22 21:46:26 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1731] - --- End Position Sizing ---
2025-04-22 21:46:26 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3214] - [1m===> PLACING SELL MARKET ORDER | Size: 0.01 <===[0m
2025-04-22 21:46:26 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:3635] - [91mCritical unexpected error in main trading loop: name 'quote_currency' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3602, in main
    analyze_and_trade_symbol(
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3215, in analyze_and_trade_symbol
    trade_order = place_trade(exchange, symbol, signal, position_size, market_info, lg, reduce_only=False)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1773, in place_trade
    settle_currency = market_info.get('settle', quote_currency) if is_contract else base_currency
                                                ^^^^^^^^^^^^^^
NameError: name 'quote_currency' is not defined. Did you mean: 'base_currency'?
2025-04-22 21:46:26 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3636] - Waiting 15 seconds before next cycle attempt...
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3645] - <<< Loop #5 completed in 17.78s. Sleeping for 0.00s...
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3598] - >>> Loop #6 Start: 2025-04-22 21:46:41 CDT
2025-04-22 21:46:41 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3060] - 
[1m---=== Cycle Start: Analyzing BCH/USDT:USDT (3 TF) ===---[0m
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3066] - Cycle Config: Trading=ENABLED, Sandbox=False, Risk=1.00%, Lev=20x, TSL=ON (Act%=0.300%, CB%=0.500%), BE=ON (TrigATR=1.0, Offset=2 ticks), InitSL Mult=1.8, InitTP Mult=0.7, OB Source=Wicks
2025-04-22 21:46:41 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3087] - Requesting 1000 klines for BCH/USDT:USDT (3m). (Strategy requires min: 1000, Config requests: 750, API limit: 1000)
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:735] - Fetching klines for BCH/USDT:USDT | Timeframe: 3m | Limit: 1000 (Attempt 1/4)
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:744] - Using Bybit category: linear
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:751] - API returned 1000 candles (requested 1000).
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:771] - Last kline timestamp 2025-04-23 02:45:00+00:00 seems recent (Lag: 101.8s <= Max: 900s). Data OK.
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:822] - Processing 1000 fetched candles into DataFrame...
2025-04-22 21:46:41 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:872] - Successfully fetched and processed 1000 klines for BCH/USDT:USDT 3m
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3110] - Running strategy analysis engine...
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2487] - Starting strategy analysis on 1000 candles (minimum required: 1000).
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2511] - Calculating indicators (ATR, EMAs, Bands, Volume Norm, Pivots)...
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2566] - Indicator calculations complete.
2025-04-22 21:46:41 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2574] - Converting calculated indicators back to Decimal format...
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2602] - Dropped 269 rows from final DataFrame due to missing essential indicators (likely at start).
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2610] - Indicators finalized in Decimal DataFrame. Processing Order Blocks...
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421143900 @ 14:39 [Top:345.6, Bot:343.8]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421152100 @ 15:21 [Top:345.8, Bot:345.3]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421160300 @ 16:03 [Top:346.2, Bot:345.6]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421173600 @ 17:36 [Top:344.6, Bot:343.9]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250421192400 @ 19:24 [Top:348.2, Bot:347.6]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422000300 @ 00:03 [Top:345.5, Bot:345.2]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422012100 @ 01:21 [Top:346.1, Bot:344.6]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422040300 @ 04:03 [Top:346, Bot:345.8]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422060000 @ 06:00 [Top:347.6, Bot:345.7]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422075400 @ 07:54 [Top:350.4, Bot:345]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422084500 @ 08:45 [Top:349.6, Bot:348.5]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422111200 @ 11:12 [Top:348.2, Bot:346.5]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2644] -   + New Bearish OB identified: B_250422134800 @ 13:48 [Top:353.4, Bot:351.3]
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2675] - Identified 13 new Order Blocks in this update.
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421143900 VIOLATED by close 356.4 > 345.6
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421152100 VIOLATED by close 356.4 > 345.8
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421160300 VIOLATED by close 356.4 > 346.2
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421173600 VIOLATED by close 356.4 > 344.6
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250421192400 VIOLATED by close 356.4 > 348.2
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422000300 VIOLATED by close 356.4 > 345.5
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422012100 VIOLATED by close 356.4 > 346.1
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422040300 VIOLATED by close 356.4 > 346
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422060000 VIOLATED by close 356.4 > 347.6
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422075400 VIOLATED by close 356.4 > 350.4
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422084500 VIOLATED by close 356.4 > 349.6
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422111200 VIOLATED by close 356.4 > 348.2
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2701] - Bearish OB B_250422134800 VIOLATED by close 356.4 > 353.4
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2712] - Pruned Order Blocks. Kept Active: Bulls=17, Bears=8 (Max per type: 50).
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2751] - --- Strategy Analysis Results (2025-04-23 02:45:00 UTC) ---
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2752] -   Last Close: 356.4
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2753] -   Trend: [91mDOWN[0m (Changed: False)
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2754] -   ATR: 0.9568544907735222
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2755] -   Volume Norm: 1
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2756] -   Active OBs (Bull/Bear): 17 / 8
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2757] - ---------------------------------------------
2025-04-22 21:46:42 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3125] - Strategy Analysis Complete: Trend=DOWN, Last Close=356.4, ATR=0.9568544907735222
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3129] - Fetching current market price and checking for open positions...
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:623] - Fetching ticker data for BCH/USDT:USDT (Attempt 1/4)
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:663] - Current price successfully fetched for BCH/USDT:USDT: 356.4
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1162] - Fetching positions for BCH/USDT:USDT (Attempt 1/4)...
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1176] - Fetching positions with specific params: {'category': 'linear', 'symbol': 'BCHUSDT'}
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1215] - Using position size threshold: 0.001
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1232] - Found active position entry: Size=0.01
2025-04-22 21:46:42 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1317] - [91mUnexpected error fetching/processing positions for BCH/USDT:USDT: name 'format_decimal' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1280, in get_open_position
    ep_str = format_decimal(std_pos.get('entryPrice'))
             ^^^^^^^^^^^^^^
NameError: name 'format_decimal' is not defined
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:3142] - Generating trading signal based on analysis and position...
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2843] - --- Signal Generation Check ---
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2844] -   Input: Close=356.4, TrendUp=False, TrendChanged=False, Position=None
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2845] -   Active OBs: Bull=17, Bear=8
2025-04-22 21:46:42 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:2911] - [91m[1mSELL Signal: Trend DOWN & Price 356.4 within Bear OB entry zone [356.3184079601990049751243781 - 358.4] (OB ID: B_250422185400)[0m
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2918] - --- Signal Result: SELL ---
2025-04-22 21:46:42 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3149] - Generated Signal: [1mSELL[0m
2025-04-22 21:46:42 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3172] - [1mTrading is ENABLED. Processing signal 'SELL'...[0m
2025-04-22 21:46:42 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3176] - [1m*** SELL Signal & No Position: Initiating Entry Sequence... ***[0m
2025-04-22 21:46:42 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1031] - Fetching balance for USDT (Account Type: UNIFIED, Attempt 1/4)...
2025-04-22 21:46:43 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1097] - Successfully parsed balance for USDT: 2.93028305
2025-04-22 21:46:43 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2940] - Calculating Initial TP/SL for SELL signal at entry 356.4 with ATR 0.9568544907735222
2025-04-22 21:46:43 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:2973] -   Raw Levels: TP=355.73020185645853446, SL=358.12233808339233996
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3023] -   Calculated Initial Levels: TP=355.7, SL=358.1
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3198] - Setting leverage to 20x for BCH/USDT:USDT...
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1363] - Attempting to set leverage for BCH/USDT:USDT to 20x (Attempt 1/4)...
2025-04-22 21:46:43 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1376] - Using Bybit V5 setLeverage params: {'category': 'linear', 'symbol': 'BCHUSDT', 'buyLeverage': '20', 'sellLeverage': '20'}
2025-04-22 21:46:43 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:1407] - [91mExchange error setting leverage for BCH/USDT:USDT: bybit {"retCode":110043,"retMsg":"leverage not modified","result":{},"retExtInfo":{},"time":1745376404364} (Code: None)[0m
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1411] - [33mLeverage already set (detected via error). Treating as success.[0m
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1477] - --- Position Sizing Calculation (BCH/USDT:USDT) ---
2025-04-22 21:46:43 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1525] - Market Constraints: Amount Step=0.01, Min/Max Amount=0.01/5.3E+3, Min/Max Cost=0/Infinity, Contract Size=1
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1541] -   Balance: 2.93028305 USDT
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1542] -   Risk Per Trade: 1.00%
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1543] -   Risk Amount: 0.0293028305 USDT
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1544] -   Entry Price: 356.4
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1545] -   Stop Loss Price: 358.1
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1546] -   Stop Loss Distance (Price): 1.7
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1547] -   Contract Type: Linear/Spot
2025-04-22 21:46:43 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1561] -   Linear/Spot Calc: RiskAmt=0.0293028305 / (SLDist=1.7 * ContrSize=1.0) = 0.01723695911764705882352941176
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1589] -   Initial Calculated Size = 0.01723695911764705882352941176 Contracts
2025-04-22 21:46:43 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1601] -   Size after Amount Limits: 0.01723695911764705882352941176 Contracts
2025-04-22 21:46:43 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1610] -   Estimated Cost for adjusted size: 6.143252229529411764705882351 USDT
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1667] - Applied amount precision (CCXT): 0.01723695911764705882352941176 -> 0.01 Contracts
2025-04-22 21:46:43 - DEBUG    - [pyrmethus_bot_BCH_USDT-USDT:1702] -   Final Estimated Cost: 3.564 USDT
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1730] - [92m[1mFinal Calculated Position Size: 0.01 Contracts[0m
2025-04-22 21:46:43 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:1731] - --- End Position Sizing ---
2025-04-22 21:46:43 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3214] - [1m===> PLACING SELL MARKET ORDER | Size: 0.01 <===[0m
2025-04-22 21:46:43 - ERROR    - [pyrmethus_bot_BCH_USDT-USDT:3635] - [91mCritical unexpected error in main trading loop: name 'quote_currency' is not defined[0m
Traceback (most recent call last):
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3602, in main
    analyze_and_trade_symbol(
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 3215, in analyze_and_trade_symbol
    trade_order = place_trade(exchange, symbol, signal, position_size, market_info, lg, reduce_only=False)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/data/com.termux/files/home/worldguide/volume/volumatictrend1.3.3.py", line 1773, in place_trade
    settle_currency = market_info.get('settle', quote_currency) if is_contract else base_currency
                                                ^^^^^^^^^^^^^^
NameError: name 'quote_currency' is not defined. Did you mean: 'base_currency'?
2025-04-22 21:46:43 - WARNING  - [pyrmethus_bot_BCH_USDT-USDT:3636] - Waiting 15 seconds before next cycle attempt...
2025-04-22 21:46:56 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3650] - Keyboard interrupt detected (Ctrl+C). Initiating graceful shutdown...
2025-04-22 21:46:56 - INFO     - [pyrmethus_bot_BCH_USDT-USDT:3663] - --- Pyrmethus Bot (BCH/USDT:USDT) Shutting Down ---
